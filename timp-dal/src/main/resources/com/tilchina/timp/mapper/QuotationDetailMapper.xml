<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"><mapper namespace="com.tilchina.timp.mapper.QuotationDetailMapper">	<resultMap id="BaseResultMap" type="com.tilchina.timp.model.QuotationDetail" >		<id column="QUOTATION_DETAIL_ID" jdbcType="BIGINT" property="quotationDetailId" />		<result column="QUOTATION_DETAIL_ID" jdbcType="BIGINT" property="quotationDetailId" />		<result column="QUOTATION_ID" jdbcType="BIGINT" property="quotationId" />		<result column="QUOTATION_PLAN" jdbcType="INTEGER" property="quotationPlan" />		<result column="JOB_TYPE" jdbcType="INTEGER" property="jobType" />		<result column="SEND_CITY_ID" jdbcType="BIGINT" property="sendCityId" />		<result column="RECV_CITY_ID" jdbcType="BIGINT" property="recvCityId" />		<result column="SEND_AREA_ID" jdbcType="BIGINT" property="sendAreaId" />		<result column="RECV_AREA_ID" jdbcType="BIGINT" property="recvAreaId" />		<result column="SEND_UNIT_ID" jdbcType="BIGINT" property="sendUnitId" />		<result column="RECV_UNIT_ID" jdbcType="BIGINT" property="recvUnitId" />		<result column="DISTANCE" jdbcType="DOUBLE" property="distance" />		<result column="CAR_BRAND_ID" jdbcType="BIGINT" property="carBrandId" />		<result column="CAR_TYPE_ID" jdbcType="BIGINT" property="carTypeId" />		<result column="CAR_MODEL_ID" jdbcType="BIGINT" property="carModelId" />		<result column="LEAD_TIME" jdbcType="INTEGER" property="leadTime" />		<result column="UNIT_PRICE" jdbcType="DECIMAL" property="unitPrice" />		<result column="TOTAL_PRICE" jdbcType="DECIMAL" property="totalPrice" />		<result column="TAX_RATE" jdbcType="DECIMAL" property="taxRate" />		<result column="PRICE_DESC" jdbcType="VARCHAR" property="priceDesc" />		<result column="CORP_ID" jdbcType="BIGINT" property="corpId" />		<result column="FLAG" jdbcType="INTEGER" property="flag" />		<result column="refSendCityName" jdbcType="VARCHAR" property="refSendCityName"/>		<result column="refRecvCityName" jdbcType="VARCHAR" property="refRecvCityName"/>		<result column="refCarBrandName" jdbcType="VARCHAR" property="refCarBrandName"/>		<result column="refCarTypeName" jdbcType="VARCHAR" property="refCarTypeName"/>		<result column="refCarModelName" jdbcType="VARCHAR" property="refCarModelName"/>		<result column="refCarName" jdbcType="VARCHAR" property="refCarName"/>		<result column="refCorpName" jdbcType="VARCHAR" property="refCorpName"/>		<result column="QUOTATION_NUMBER" jdbcType="VARCHAR" property="refQuotationNumber"/>		<result column="EFFECTIVE_DATE" jdbcType="DATE" property="refEffectiveDate"/>	</resultMap>	<sql id="Base_Column_List">		self.QUOTATION_DETAIL_ID,		self.QUOTATION_ID,		self.QUOTATION_PLAN,		self.JOB_TYPE,		self.SEND_CITY_ID,		self.RECV_CITY_ID,		self.SEND_AREA_ID,		self.RECV_AREA_ID,		self.SEND_UNIT_ID,		self.RECV_UNIT_ID,		self.DISTANCE,		self.CAR_BRAND_ID,		self.CAR_TYPE_ID,		self.CAR_MODEL_ID,		self.LEAD_TIME,		self.UNIT_PRICE,		self.TOTAL_PRICE,		self.TAX_RATE,		self.PRICE_DESC,		self.CORP_ID,		self.FLAG  	</sql>	<sql id="Query_Column_List">		self.QUOTATION_DETAIL_ID,		self.QUOTATION_ID,		self.QUOTATION_PLAN,		self.JOB_TYPE,		self.SEND_CITY_ID,		self.RECV_CITY_ID,		self.SEND_AREA_ID,		self.RECV_AREA_ID,		self.SEND_UNIT_ID,		self.RECV_UNIT_ID,		self.DISTANCE,		self.CAR_BRAND_ID,		self.CAR_TYPE_ID,		self.CAR_MODEL_ID,		self.LEAD_TIME,		self.UNIT_PRICE,		self.TOTAL_PRICE,		self.TAX_RATE,		self.PRICE_DESC,		self.CORP_ID,		self.FLAG,		cityA.CITY_NAME as refSendCityName,		cityB.CITY_NAME as refRecvCityName,		cityC.CITY_NAME as refSendAreaName,		cityD.CITY_NAME as refRecvAreaName,		unitA.UNIT_NAME as refSendUnitName,		unitB.UNIT_NAME as refRecvUnitName,		brand.BRAND_NAME as refCarBrandName,		carType.CAR_TYPE_NAME as refCarTypeName,		car.CAR_CODE as refCarModelName,		car.CAR_NAME as refCarName,		corp.CORP_NAME as refCorpName	</sql>	<sql id="Example_Where_Clause">		where self.DEL = 0		<trim  suffixOverrides="," >			<if test="quotationDetailId != null and quotationDetailId != ''" >				and self.QUOTATION_DETAIL_ID = #{quotationDetailId}			</if>			<if test="quotationId != null and quotationId != ''" >				and self.QUOTATION_ID = #{quotationId}			</if>			<if test="quotationPlan != null and quotationPlan != ''" >				and self.QUOTATION_PLAN = #{quotationPlan}			</if>			<if test="jobType != null and jobType != ''" >				and self.JOB_TYPE = #{jobType}			</if>			<if test="sendCityId != null and sendCityId != ''" >				and self.SEND_CITY_ID = #{sendCityId}			</if>			<if test="recvCityId != null and recvCityId != ''" >				and self.RECV_CITY_ID = #{recvCityId}			</if>			<if test="sendAreaId != null and sendAreaId != ''" >				and self.SEND_AREA_ID = #{sendAreaId}			</if>			<if test="recvAreaId != null and recvAreaId != ''" >				and self.RECV_AREA_ID = #{recvAreaId}			</if>			<if test="sendUnitId != null and sendUnitId != ''" >				and self.SEND_UNIT_ID = #{sendUnitId}			</if>			<if test="recvUnitId != null and recvUnitId != ''" >				and self.RECV_UNIT_ID = #{recvUnitId}			</if>			<if test="distance != null and distance != ''" >				and self.DISTANCE = #{distance}			</if>			<if test="carBrandId != null and carBrandId != ''" >				and self.CAR_BRAND_ID = #{carBrandId}			</if>			<if test="carTypeId != null and carTypeId != ''" >				and self.CAR_TYPE_ID = #{carTypeId}			</if>			<if test="carModelId != null and carModelId != ''" >				and self.CAR_MODEL_ID = #{carModelId}			</if>			<if test="leadTime != null and leadTime != ''" >				and self.LEAD_TIME = #{leadTime}			</if>			<if test="unitPrice != null and unitPrice != ''" >				and self.UNIT_PRICE = #{unitPrice}			</if>			<if test="totalPrice != null and totalPrice != ''" >				and self.TOTAL_PRICE = #{totalPrice}			</if>			<if test="taxRate != null and taxRate != ''" >				and self.TAX_RATE = #{taxRate}			</if>			<if test="priceDesc != null and priceDesc != ''" >				and self.PRICE_DESC = #{priceDesc}			</if>			<if test="corpId != null and corpId != ''" >				and self.CORP_ID = #{corpId}			</if>			<if test="flag != null and flag != ''" >				and self.FLAG = #{flag}			</if>		</trim>	</sql>	<select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.Long">		select		<include refid="Query_Column_List"/>		from fs_quotation_detail self		left join bd_city cityA on self.SEND_CITY_ID = cityA.CITY_ID		left join bd_city cityB on self.RECV_CITY_ID = cityB.CITY_ID		left join bd_city cityC on self.SEND_AREA_ID = cityC.CITY_ID		left join bd_city cityD on self.RECV_AREA_ID = cityD.CITY_ID		left join bd_unit unitA on self.SEND_UNIT_ID = unitA.UNIT_ID		left join bd_unit unitB on self.RECV_UNIT_ID = unitB.UNIT_ID		left join bd_brand brand on self.CAR_BRAND_ID = brand.BRAND_ID		left join bd_car_type carType on self.CAR_TYPE_ID = carType.CAR_TYPE_ID		left join bd_car car on self.CAR_MODEL_ID = car.CAR_ID		left join sys_corp corp on self.CORP_ID = corp.CORP_ID		where self.QUOTATION_DETAIL_ID = #{quotationDetailId,jdbcType=BIGINT}		and self.DEL = 0	</select>	<delete id="deleteByPrimaryKey" parameterType="java.lang.Long">    	delete  from fs_quotation_detail where QUOTATION_DETAIL_ID = #{quotationDetailId}  	</delete>	<insert id="insert" parameterType="com.tilchina.timp.model.QuotationDetail" keyProperty="quotationDetailId" useGeneratedKeys="true">	    insert into fs_quotation_detail		(QUOTATION_ID, QUOTATION_PLAN, JOB_TYPE, SEND_CITY_ID, RECV_CITY_ID, SEND_AREA_ID, RECV_AREA_ID, SEND_UNIT_ID, RECV_UNIT_ID,		DISTANCE, CAR_BRAND_ID, CAR_TYPE_ID, CAR_MODEL_ID, LEAD_TIME, UNIT_PRICE, TOTAL_PRICE, TAX_RATE, PRICE_DESC,		CORP_ID, FLAG)		values		(#{quotationId,jdbcType=BIGINT}, #{quotationPlan,jdbcType=INTEGER}, #{jobType,jdbcType=INTEGER}, #{sendCityId,jdbcType=BIGINT},		#{recvCityId,jdbcType=BIGINT}, #{sendAreaId,jdbcType=BIGINT}, #{recvAreaId,jdbcType=BIGINT}, #{sendUnitId,jdbcType=BIGINT},		#{recvUnitId,jdbcType=BIGINT}, #{distance,jdbcType=DOUBLE}, #{carBrandId,jdbcType=BIGINT}, #{carTypeId,jdbcType=BIGINT},		#{carModelId,jdbcType=BIGINT}, #{leadTime,jdbcType=INTEGER}, #{unitPrice,jdbcType=DECIMAL},		#{totalPrice,jdbcType=DECIMAL}, #{taxRate,jdbcType=DECIMAL}, #{priceDesc,jdbcType=VARCHAR}, #{corpId,jdbcType=BIGINT},		#{flag,jdbcType=INTEGER})  	</insert>	<insert id="insertSelective" parameterType="com.tilchina.timp.model.QuotationDetail" keyProperty="quotationDetailId" useGeneratedKeys="true">		insert into fs_quotation_detail		<trim prefix="(" suffix=")" suffixOverrides=",">			<if test="quotationId != null">				QUOTATION_ID,			</if>			<if test="quotationPlan != null">				QUOTATION_PLAN,			</if>			<if test="jobType != null">				JOB_TYPE,			</if>			<if test="sendCityId != null">				SEND_CITY_ID,			</if>			<if test="recvCityId != null">				RECV_CITY_ID,			</if>			<if test="sendAreaId != null">				SEND_AREA_ID,			</if>			<if test="recvAreaId != null">				RECV_AREA_ID,			</if>			<if test="sendUnitId != null">				SEND_UNIT_ID,			</if>			<if test="recvUnitId != null">				RECV_UNIT_ID,			</if>			<if test="distance != null">				DISTANCE,			</if>			<if test="carBrandId != null">				CAR_BRAND_ID,			</if>			<if test="carTypeId != null">				CAR_TYPE_ID,			</if>			<if test="carModelId != null">				CAR_MODEL_ID,			</if>			<if test="leadTime != null">				LEAD_TIME,			</if>			<if test="unitPrice != null">				UNIT_PRICE,			</if>			<if test="totalPrice != null">				TOTAL_PRICE,			</if>			<if test="taxRate != null">				TAX_RATE,			</if>			<if test="priceDesc != null">				PRICE_DESC,			</if>			<if test="corpId != null">				CORP_ID,			</if>			<if test="flag != null">				FLAG,			</if>		</trim>		<trim prefix="values (" suffix=")" suffixOverrides=",">			<if test="quotationId != null">				#{quotationId,jdbcType=BIGINT},			</if>			<if test="quotationPlan != null">				#{quotationPlan,jdbcType=INTEGER},			</if>			<if test="jobType != null">				#{jobType,jdbcType=INTEGER},			</if>			<if test="sendCityId != null">				#{sendCityId,jdbcType=BIGINT},			</if>			<if test="recvCityId != null">				#{recvCityId,jdbcType=BIGINT},			</if>			<if test="sendAreaId != null">				#{sendAreaId,jdbcType=BIGINT},			</if>			<if test="recvAreaId != null">				#{recvAreaId,jdbcType=BIGINT},			</if>			<if test="sendUnitId != null">				#{sendUnitId,jdbcType=BIGINT},			</if>			<if test="recvUnitId != null">				#{recvUnitId,jdbcType=BIGINT},			</if>			<if test="distance != null">				#{distance,jdbcType=DOUBLE},			</if>			<if test="carBrandId != null">				#{carBrandId,jdbcType=BIGINT},			</if>			<if test="carTypeId != null">				#{carTypeId,jdbcType=BIGINT},			</if>			<if test="carModelId != null">				#{carModelId,jdbcType=BIGINT},			</if>			<if test="leadTime != null">				#{leadTime,jdbcType=INTEGER},			</if>			<if test="unitPrice != null">				#{unitPrice,jdbcType=DECIMAL},			</if>			<if test="totalPrice != null">				#{totalPrice,jdbcType=DECIMAL},			</if>			<if test="taxRate != null">				#{taxRate,jdbcType=DECIMAL},			</if>			<if test="priceDesc != null">				#{priceDesc,jdbcType=VARCHAR},			</if>			<if test="corpId != null">				#{corpId,jdbcType=BIGINT},			</if>			<if test="flag != null">				#{flag,jdbcType=INTEGER},			</if>		</trim>	</insert>	<update id="updateByPrimaryKey" parameterType="com.tilchina.timp.model.QuotationDetail" >    update fs_quotation_detail set	  QUOTATION_ID = #{quotationId,jdbcType=BIGINT}, QUOTATION_PLAN = #{quotationPlan,jdbcType=INTEGER}, JOB_TYPE = #{jobType,jdbcType=INTEGER},	  SEND_CITY_ID = #{sendCityId,jdbcType=BIGINT}, RECV_CITY_ID = #{recvCityId,jdbcType=BIGINT}, SEND_AREA_ID = #{sendAreaId,jdbcType=BIGINT},	  RECV_AREA_ID = #{recvAreaId,jdbcType=BIGINT}, SEND_UNIT_ID = #{sendUnitId,jdbcType=BIGINT},	  RECV_UNIT_ID = #{recvUnitId,jdbcType=BIGINT}, DISTANCE = #{distance,jdbcType=DOUBLE}, CAR_BRAND_ID = #{carBrandId,jdbcType=BIGINT},	  CAR_TYPE_ID = #{carTypeId,jdbcType=BIGINT}, CAR_MODEL_ID = #{carModelId,jdbcType=BIGINT},	  LEAD_TIME = #{leadTime,jdbcType=INTEGER}, UNIT_PRICE = #{unitPrice,jdbcType=DECIMAL}, TOTAL_PRICE = #{totalPrice,jdbcType=DECIMAL},	  TAX_RATE = #{taxRate,jdbcType=DECIMAL}, PRICE_DESC = #{priceDesc,jdbcType=VARCHAR}, CORP_ID = #{corpId,jdbcType=BIGINT},	  FLAG = #{flag,jdbcType=INTEGER}	where QUOTATION_DETAIL_ID = #{quotationDetailId,jdbcType=BIGINT}  </update>	<update id="updateByPrimaryKeySelective" parameterType="com.tilchina.timp.model.QuotationDetail" >		update fs_quotation_detail		<set>			<if test="quotationId != null">				QUOTATION_ID = #{quotationId,jdbcType=BIGINT},			</if>			<if test="quotationPlan != null">				QUOTATION_PLAN = #{quotationPlan,jdbcType=INTEGER},			</if>			<if test="jobType != null">				JOB_TYPE = #{jobType,jdbcType=INTEGER},			</if>			<if test="sendCityId != null">				SEND_CITY_ID = #{sendCityId,jdbcType=BIGINT},			</if>			<if test="recvCityId != null">				RECV_CITY_ID = #{recvCityId,jdbcType=BIGINT},			</if>			<if test="sendAreaId != null">				SEND_AREA_ID = #{sendAreaId,jdbcType=BIGINT},			</if>			<if test="recvAreaId != null">				RECV_AREA_ID = #{recvAreaId,jdbcType=BIGINT},			</if>			<if test="sendUnitId != null">				SEND_UNIT_ID = #{sendUnitId,jdbcType=BIGINT},			</if>			<if test="recvUnitId != null">				RECV_UNIT_ID = #{recvUnitId,jdbcType=BIGINT},			</if>			<if test="distance != null">				DISTANCE = #{distance,jdbcType=DOUBLE},			</if>			<if test="carBrandId != null">				CAR_BRAND_ID = #{carBrandId,jdbcType=BIGINT},			</if>			<if test="carTypeId != null">				CAR_TYPE_ID = #{carTypeId,jdbcType=BIGINT},			</if>			<if test="carModelId != null">				CAR_MODEL_ID = #{carModelId,jdbcType=BIGINT},			</if>			<if test="leadTime != null">				LEAD_TIME = #{leadTime,jdbcType=INTEGER},			</if>			<if test="unitPrice != null">				UNIT_PRICE = #{unitPrice,jdbcType=DECIMAL},			</if>			<if test="totalPrice != null">				TOTAL_PRICE = #{totalPrice,jdbcType=DECIMAL},			</if>			<if test="taxRate != null">				TAX_RATE = #{taxRate,jdbcType=DECIMAL},			</if>			<if test="priceDesc != null">				PRICE_DESC = #{priceDesc,jdbcType=VARCHAR},			</if>			<if test="corpId != null">				CORP_ID = #{corpId,jdbcType=BIGINT},			</if>			<if test="flag != null">				FLAG = #{flag,jdbcType=INTEGER},			</if>		</set>		where QUOTATION_DETAIL_ID = #{quotationDetailId,jdbcType=BIGINT}	</update>	<select id="selectList" resultMap="BaseResultMap" parameterType="Object">		select		<include refid="Query_Column_List"/>		from fs_quotation_detail self		left join bd_city cityA on self.SEND_CITY_ID = cityA.CITY_ID		left join bd_city cityB on self.RECV_CITY_ID = cityB.CITY_ID		left join bd_city cityC on self.SEND_AREA_ID = cityC.CITY_ID		left join bd_city cityD on self.RECV_AREA_ID = cityD.CITY_ID		left join bd_unit unitA on self.SEND_UNIT_ID = unitA.UNIT_ID		left join bd_unit unitB on self.RECV_UNIT_ID = unitB.UNIT_ID		left join bd_brand brand on self.CAR_BRAND_ID = brand.BRAND_ID		left join bd_car_type carType on self.CAR_TYPE_ID = carType.CAR_TYPE_ID		left join bd_car car on self.CAR_MODEL_ID = car.CAR_ID		left join sys_corp corp on self.CORP_ID = corp.CORP_ID		<include refid="Example_Where_Clause"/>		<if test="orderByClause != null and orderByClause != ''">			order by ${orderByClause}		</if>	</select>	<select id="selectDetailsByQuotationId" parameterType="java.lang.Long" resultMap="BaseResultMap">		select <include refid="Query_Column_List"/>		from fs_quotation_detail self		left join bd_city cityA on self.SEND_CITY_ID = cityA.CITY_ID		left join bd_city cityB on self.RECV_CITY_ID = cityB.CITY_ID		left join bd_city cityC on self.SEND_AREA_ID = cityC.CITY_ID		left join bd_city cityD on self.RECV_AREA_ID = cityD.CITY_ID		left join bd_unit unitA on self.SEND_UNIT_ID = unitA.UNIT_ID		left join bd_unit unitB on self.RECV_UNIT_ID = unitB.UNIT_ID		left join bd_brand brand on self.CAR_BRAND_ID = brand.BRAND_ID		left join bd_car_type carType on self.CAR_TYPE_ID = carType.CAR_TYPE_ID		left join bd_car car on self.CAR_MODEL_ID = car.CAR_ID		left join sys_corp corp on self.CORP_ID = corp.CORP_ID		where self.QUOTATION_ID = #{quotationId}		and self.DEL = 0	</select>	<sql id="SelectByQuotationVO_Column_List">		detail.QUOTATION_DETAIL_ID,		detail.QUOTATION_ID,		detail.QUOTATION_PLAN,		detail.SEND_CITY_ID,		detail.RECV_CITY_ID,		detail.JOB_TYPE,		detail.DISTANCE,		detail.CAR_BRAND_ID,		detail.CAR_TYPE_ID,		detail.CAR_MODEL_ID,		detail.LEAD_TIME,		detail.UNIT_PRICE,		detail.TOTAL_PRICE,		detail.TAX_RATE,		detail.PRICE_DESC,		detail.CORP_ID,		detail.FLAG  	</sql>	<select id="selectByQuotationVO" parameterType="com.tilchina.timp.vo.QuotationVO" resultMap="BaseResultMap">		select <include refid="SelectByQuotationVO_Column_List"/>		from fs_quotation_detail detail		left join fs_quotation self on self.QUOTATION_ID = detail.QUOTATION_ID		where self.DEL = 0		and self.FLAG = 0		<if test="customerId != null and customerId != 0">			and self.CUSTOMER_ID = #{customerId}		</if>		<if test="vendorCorpId != null and vendorCorpId != 0">			and self.VENDOR_CORP_ID = #{vendorCorpId}		</if>		<if test="sendCityId != null and sendCityId != 0">			and detail.SEND_CITY_ID = #{sendCityId}		</if>		<if test="recvCityId != null and recvCityId != 0">			and detail.RECV_CITY_ID = #{recvCityId}		</if>		<if test="carBrandId != null and carBrandId != 0">			and detail.CAR_BRAND_ID = #{carBrandId}		</if>		<if test="carTypeId != null and carTypeId != 0">			or detail.CAR_TYPE_ID = #{carTypeId}		</if>		<if test="carModelId != null and carModelId != 0">			or detail.CAR_MODEL_ID = #{carModelId}		</if>		<if test="jobType != null and jobType != 0">			and detail.JOB_TYPE = #{jobType}		</if>		<if test="orderDate != null">			<![CDATA[ and self.EFFECTIVE_DATE <= #{orderDate} ]]>		</if>		order by self.EFFECTIVE_DATE DESC limit 1	</select>	<select id="selectByCitys" parameterType="Map" resultMap="BaseResultMap">		select		  b.QUOTATION_ID,b.QUOTATION_NUMBER,b.EFFECTIVE_DATE,a.SEND_CITY_ID,		  a.RECV_CITY_ID,a.CAR_BRAND_ID,a.CAR_TYPE_ID,a.CAR_MODEL_ID,a.LEAD_TIME, a.TOTAL_PRICE		from fs_quotation_detail a		join fs_quotation b on a.QUOTATION_ID = b.QUOTATION_ID and b.del = 0 and b.flag = 0 and b.bill_status = 1		where b.CUSTOMER_ID = #{customerId}		and b.VENDOR_CORP_ID = #{vendorCorpId}		and <![CDATA[ b.EFFECTIVE_DATE <= #{effectiveDate} ]]>		and			<foreach collection="citys" open="(" close=")" item="item" separator="or">				(a.SEND_CITY_ID = #{item.sendCityId} and a.RECV_CITY_ID = #{item.recvCityId} )			</foreach>	</select>	<sql id="QuotationVO_Column_List">		self.QUOTATION_ID,		self.QUOTATION_NUMBER,		self.QUOTATION_TYPE,		self.CONTRACT_ID,		self.CUSTOMER_ID,		self.VENDOR_CORP_ID,		self.QUOTATION_NAME,		self.QUOTATION_FILE,		self.EFFECTIVE_DATE,		self.CREATOR,		self.CREATE_DATE,		self.CHECKER,		self.CHECK_DATE,		self.CORP_ID,		self.FLAG,		detail.QUOTATION_DETAIL_ID,		detail.QUOTATION_ID,		detail.QUOTATION_PLAN,		detail.SEND_CITY_ID,		detail.RECV_CITY_ID,		detail.JOB_TYPE,		detail.DISTANCE,		detail.CAR_BRAND_ID,		detail.CAR_TYPE_ID,		detail.CAR_MODEL_ID,		detail.LEAD_TIME as refLeadTime,		detail.UNIT_PRICE,		detail.TOTAL_PRICE,		detail.TAX_RATE,		detail.PRICE_DESC,		detail.CORP_ID,		detail.FLAG	</sql>	<select id="queryByQuotationVO" parameterType="com.tilchina.timp.vo.QuotationVO" resultMap="BaseResultMap">		select <include refid="QuotationVO_Column_List" />		from fs_quotation self		left join fs_quotation_detail detail on self.QUOTATION_ID = detail.QUOTATION_ID		where self.DEL = 0		and self.FLAG = 0		and self.BILL_STATUS = 1		and self.CUSTOMER_ID = #{customerId}		and self.VENDOR_CORP_ID = #{vendorCorpId}		<![CDATA[ and self.EFFECTIVE_DATE <= #{orderDate} ]]>		and detail.SEND_CITY_ID = #{sendCityId}		and detail.RECV_CITY_ID = #{recvCityId}		and detail.CAR_BRAND_ID = #{carBrandId}		<if test="carTypeId != null and carTypeId != 0">			and detail.CAR_TYPE_ID  = #{carTypeId}		</if>		<if test="carModelId != null and carModelId != 0">			and detail.CAR_MODEL_ID  = #{carModelId}		</if>		order by self.EFFECTIVE_DATE DESC limit 1	</select></mapper>   