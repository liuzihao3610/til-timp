<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"><mapper namespace="com.tilchina.timp.mapper.CaptchaMapper" >  <resultMap id="BaseResultMap" type="com.tilchina.timp.model.Captcha" >    <id column="CAPTCHA_ID" jdbcType="BIGINT" property="captchaId" />	<result column="CAPTCHA_ID" jdbcType="BIGINT" property="captchaId" />	<result column="USER_ID" jdbcType="BIGINT" property="userId" />	<result column="PHONE_NUM" jdbcType="VARCHAR" property="phoneNum" />	<result column="CAPTCHA_CODE" jdbcType="VARCHAR" property="captchaCode" />	<result column="IDENTIFIER" jdbcType="VARCHAR" property="identifier" />	<result column="IP" jdbcType="VARCHAR" property="ip" />	<result column="CAPTCHA_TYPE" jdbcType="VARCHAR" property="captchaType" />	<result column="SEND_TIME" jdbcType="TIMESTAMP" property="sendTime" />	<result column="CAPTCHA_STATUS" jdbcType="INTEGER" property="captchaStatus" />	<result column="CORP_ID" jdbcType="BIGINT" property="corpId" />  </resultMap>  <sql id="Base_Column_List" >    CAPTCHA_ID, USER_ID, PHONE_NUM, CAPTCHA_CODE, IDENTIFIER, IP, CAPTCHA_TYPE, SEND_TIME, CAPTCHA_STATUS, CORP_ID  </sql>     <sql id="Example_Where_Clause">    where del = 0    <trim  suffixOverrides="," >      <if test="captchaId != null and captchaId != ''" >        and CAPTCHA_ID = #{captchaId}      </if>      <if test="userId != null and userId != ''" >        and USER_ID = #{userId}      </if>      <if test="phoneNum != null and phoneNum != ''" >        and PHONE_NUM = #{phoneNum}      </if>      <if test="captchaCode != null and captchaCode != ''" >        and CAPTCHA_CODE = #{captchaCode}      </if>      <if test="identifier != null and identifier != ''" >        and IDENTIFIER = #{identifier}      </if>      <if test="ip != null and ip != ''" >        and IP = #{ip}      </if>      <if test="captchaType != null and captchaType != ''" >        and CAPTCHA_TYPE = #{captchaType}      </if>      <if test="sendTime != null and sendTime != ''" >        and SEND_TIME = #{sendTime}      </if>      <if test="captchaStatus != null and captchaStatus != ''" >        and CAPTCHA_STATUS = #{captchaStatus}      </if>      <if test="corpId != null and corpId != ''" >        and CORP_ID = #{corpId}      </if>    </trim>  </sql>     <select id="selectByPrimaryKey"  resultMap="BaseResultMap" parameterType="java.lang.Long">    select      <include refid="Base_Column_List"/>    from sms_captcha    where CAPTCHA_ID = #{captchaId,jdbcType=BIGINT}  </select>  <delete id="deleteByPrimaryKey" parameterType="java.lang.Long">    delete  from sms_captcha where CAPTCHA_ID = #{captchaId}  </delete>  <insert id="insert" parameterType="com.tilchina.timp.model.Captcha" keyProperty="captchaId" useGeneratedKeys="true">    insert into sms_captcha	(USER_ID, PHONE_NUM, CAPTCHA_CODE, IDENTIFIER, IP, CAPTCHA_TYPE, SEND_TIME, CAPTCHA_STATUS, CORP_ID)	values	(#{userId,jdbcType=BIGINT}, #{phoneNum,jdbcType=VARCHAR}, #{captchaCode,jdbcType=VARCHAR}, #{identifier,jdbcType=VARCHAR}, 	#{ip,jdbcType=VARCHAR}, #{captchaType,jdbcType=VARCHAR}, #{sendTime,jdbcType=TIMESTAMP}, #{captchaStatus,jdbcType=INTEGER}, 	#{corpId,jdbcType=BIGINT})  </insert>  <insert id="insertSelective" parameterType="com.tilchina.timp.model.Captcha" keyProperty="captchaId" useGeneratedKeys="true">    insert into sms_captcha	<trim prefix="(" suffix=")" suffixOverrides=",">	  <if test="userId != null">	    USER_ID, 	  </if>	  <if test="phoneNum != null">	    PHONE_NUM, 	  </if>	  <if test="captchaCode != null">	    CAPTCHA_CODE, 	  </if>	  <if test="identifier != null">	    IDENTIFIER, 	  </if>	  <if test="ip != null">	    IP, 	  </if>	  <if test="captchaType != null">	    CAPTCHA_TYPE, 	  </if>	  <if test="sendTime != null">	    SEND_TIME, 	  </if>	  <if test="captchaStatus != null">	    CAPTCHA_STATUS, 	  </if>	  <if test="corpId != null">	    CORP_ID, 	  </if>	</trim>	<trim prefix="values (" suffix=")" suffixOverrides=",">	  <if test="userId != null">	    #{userId,jdbcType=BIGINT}, 	  </if>	  <if test="phoneNum != null">	    #{phoneNum,jdbcType=VARCHAR}, 	  </if>	  <if test="captchaCode != null">	    #{captchaCode,jdbcType=VARCHAR}, 	  </if>	  <if test="identifier != null">	    #{identifier,jdbcType=VARCHAR}, 	  </if>	  <if test="ip != null">	    #{ip,jdbcType=VARCHAR}, 	  </if>	  <if test="captchaType != null">	    #{captchaType,jdbcType=VARCHAR}, 	  </if>	  <if test="sendTime != null">	    #{sendTime,jdbcType=TIMESTAMP}, 	  </if>	  <if test="captchaStatus != null">	    #{captchaStatus,jdbcType=INTEGER}, 	  </if>	  <if test="corpId != null">	    #{corpId,jdbcType=BIGINT}, 	  </if>	</trim>  </insert>  <update id="updateByPrimaryKeySelective" parameterType="com.tilchina.timp.model.Captcha" >	update sms_captcha	<set>	  <if test="userId != null">	    USER_ID = #{userId,jdbcType=BIGINT}, 	  </if>	  <if test="phoneNum != null">	    PHONE_NUM = #{phoneNum,jdbcType=VARCHAR}, 	  </if>	  <if test="captchaCode != null">	    CAPTCHA_CODE = #{captchaCode,jdbcType=VARCHAR}, 	  </if>	  <if test="identifier != null">	    IDENTIFIER = #{identifier,jdbcType=VARCHAR}, 	  </if>	  <if test="ip != null">	    IP = #{ip,jdbcType=VARCHAR}, 	  </if>	  <if test="captchaType != null">	    CAPTCHA_TYPE = #{captchaType,jdbcType=VARCHAR}, 	  </if>	  <if test="sendTime != null">	    SEND_TIME = #{sendTime,jdbcType=TIMESTAMP}, 	  </if>	  <if test="captchaStatus != null">	    CAPTCHA_STATUS = #{captchaStatus,jdbcType=INTEGER}, 	  </if>	  <if test="corpId != null">	    CORP_ID = #{corpId,jdbcType=BIGINT}, 	  </if>	</set>	where CAPTCHA_ID = #{captchaId,jdbcType=BIGINT}  </update>  <update id="updateByPrimaryKey" parameterType="com.tilchina.timp.model.Captcha" >    update sms_captcha set 	  USER_ID = #{userId,jdbcType=BIGINT}, PHONE_NUM = #{phoneNum,jdbcType=VARCHAR}, CAPTCHA_CODE = #{captchaCode,jdbcType=VARCHAR}, 	  IDENTIFIER = #{identifier,jdbcType=VARCHAR}, IP = #{ip,jdbcType=VARCHAR}, CAPTCHA_TYPE = #{captchaType,jdbcType=VARCHAR}, 	  SEND_TIME = #{sendTime,jdbcType=TIMESTAMP}, CAPTCHA_STATUS = #{captchaStatus,jdbcType=INTEGER}, CORP_ID = #{corpId,jdbcType=BIGINT}	where CAPTCHA_ID = #{captchaId,jdbcType=BIGINT}  </update>  	  <select id="selectList" resultMap="BaseResultMap"  parameterType="Object">	select	<include refid="Base_Column_List"/>	from sms_captcha	<include refid="Example_Where_Clause"/>	<if test="orderByClause != null and orderByClause != ''" >       order by ${orderByClause}    </if>  </select>	<select id="selectCaptcha" resultMap="BaseResultMap"  parameterType="com.tilchina.timp.model.Captcha">		select		<include refid="Base_Column_List"/>		from sms_captcha		where CAPTCHA_STATUS = 0		and  PHONE_NUM = #{phoneNum,jdbcType=VARCHAR}		and CAPTCHA_TYPE = #{captchaType,jdbcType=VARCHAR} ORDER BY SEND_TIME DESC LIMIT 1	</select>		<select id="queryByMobile"  resultType="java.util.Date" parameterType="java.lang.String">    SELECT SEND_TIME FROM sms_captcha WHERE PHONE_NUM = #{phoneNum,jdbcType=VARCHAR} ORDER BY SEND_TIME DESC LIMIT 1  </select>    <update id="updateCaptchaStatus" parameterType="java.lang.String">    update  sms_captcha set CAPTCHA_STATUS=1 where PHONE_NUM = #{phoneNum,jdbcType=VARCHAR}  </update>  	</mapper>   