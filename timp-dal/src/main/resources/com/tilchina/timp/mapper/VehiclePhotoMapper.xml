<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"><mapper namespace="com.tilchina.timp.mapper.VehiclePhotoMapper" >	<resultMap id="BaseResultMap" type="com.tilchina.timp.model.VehiclePhoto" >		<id column="PHOTO_ID" jdbcType="BIGINT" property="photoId" />		<result column="PHOTO_ID" jdbcType="BIGINT" property="photoId" />		<result column="VEHICLE_ID" jdbcType="BIGINT" property="vehicleId" />		<result column="LICENSE_ID" jdbcType="BIGINT" property="licenseId" />		<result column="LICENSE_TYPE" jdbcType="INTEGER" property="licenseType" />		<result column="PHOTO_TYPE" jdbcType="INTEGER" property="photoType" />		<result column="PHOTO_DESC" jdbcType="VARCHAR" property="photoDesc" />		<result column="PHOTO_PATH" jdbcType="VARCHAR" property="photoPath" />		<result column="CREATOR" jdbcType="BIGINT" property="creator" />		<result column="CREATE_DATE" jdbcType="TIMESTAMP" property="createDate" />		<result column="CORP_ID" jdbcType="BIGINT" property="corpId" />		<result column="FLAG" jdbcType="INTEGER" property="flag" />	</resultMap>	<sql id="Base_Column_List" >		PHOTO_ID, VEHICLE_ID, LICENSE_ID, LICENSE_TYPE, PHOTO_TYPE, PHOTO_DESC, PHOTO_PATH, CREATOR, CREATE_DATE, CORP_ID, FLAG	</sql>	<sql id="Example_Where_Clause">		where del = 0		<trim  suffixOverrides="," >			<if test="photoId != null and photoId != ''" >				and PHOTO_ID = #{photoId}			</if>			<if test="vehicleId != null and vehicleId != ''" >				and VEHICLE_ID = #{vehicleId}			</if>			<if test="licenseId != null and licenseId != ''" >				and LICENSE_ID = #{licenseId}			</if>			<if test="licenseType != null and licenseType != ''" >				and LICENSE_TYPE = #{licenseType}			</if>			<if test="photoType != null and photoType != ''" >				and PHOTO_TYPE = #{photoType}			</if>			<if test="photoDesc != null and photoDesc != ''" >				and PHOTO_DESC = #{photoDesc}			</if>			<if test="photoPath != null and photoPath != ''" >				and PHOTO_PATH = #{photoPath}			</if>			<if test="creator != null and creator != ''" >				and CREATOR = #{creator}			</if>			<if test="createDate != null and createDate != ''" >				and CREATE_DATE = #{createDate}			</if>			<if test="corpId != null and corpId != ''" >				and CORP_ID = #{corpId}			</if>			<if test="flag != null and flag != ''" >				and FLAG = #{flag}			</if>		</trim>	</sql>	<select id="selectByPrimaryKey"  resultMap="BaseResultMap" parameterType="java.lang.Long">		select		<include refid="Base_Column_List"/>		from tc_vehicle_photo		where PHOTO_ID = #{photoId,jdbcType=BIGINT}	</select>	<delete id="deleteByPrimaryKey" parameterType="java.lang.Long">		delete  from tc_vehicle_photo where PHOTO_ID = #{photoId}	</delete>	<insert id="insert" parameterType="com.tilchina.timp.model.VehiclePhoto" keyProperty="photoId" useGeneratedKeys="true">		insert into tc_vehicle_photo		(VEHICLE_ID, LICENSE_ID, LICENSE_TYPE, PHOTO_TYPE, PHOTO_DESC, PHOTO_PATH, CREATOR, CREATE_DATE, CORP_ID, FLAG)		values			(#{vehicleId,jdbcType=BIGINT}, #{licenseId,jdbcType=BIGINT}, #{licenseType,jdbcType=INTEGER}, #{photoType,jdbcType=INTEGER},			 #{photoDesc,jdbcType=VARCHAR}, #{photoPath,jdbcType=VARCHAR}, #{creator,jdbcType=BIGINT}, #{createDate,jdbcType=TIMESTAMP},			 #{corpId,jdbcType=BIGINT}, #{flag,jdbcType=INTEGER})	</insert>	<insert id="insertSelective" parameterType="com.tilchina.timp.model.VehiclePhoto" keyProperty="photoId" useGeneratedKeys="true">		insert into tc_vehicle_photo		<trim prefix="(" suffix=")" suffixOverrides=",">			<if test="vehicleId != null">				VEHICLE_ID,			</if>			<if test="licenseId != null">				LICENSE_ID,			</if>			<if test="licenseType != null">				LICENSE_TYPE,			</if>			<if test="photoType != null">				PHOTO_TYPE,			</if>			<if test="photoDesc != null">				PHOTO_DESC,			</if>			<if test="photoPath != null">				PHOTO_PATH,			</if>			<if test="creator != null">				CREATOR,			</if>			<if test="createDate != null">				CREATE_DATE,			</if>			<if test="corpId != null">				CORP_ID,			</if>			<if test="flag != null">				FLAG,			</if>		</trim>		<trim prefix="values (" suffix=")" suffixOverrides=",">			<if test="vehicleId != null">				#{vehicleId,jdbcType=BIGINT},			</if>			<if test="licenseId != null">				#{licenseId,jdbcType=BIGINT},			</if>			<if test="licenseType != null">				#{licenseType,jdbcType=INTEGER},			</if>			<if test="photoType != null">				#{photoType,jdbcType=INTEGER},			</if>			<if test="photoDesc != null">				#{photoDesc,jdbcType=VARCHAR},			</if>			<if test="photoPath != null">				#{photoPath,jdbcType=VARCHAR},			</if>			<if test="creator != null">				#{creator,jdbcType=BIGINT},			</if>			<if test="createDate != null">				#{createDate,jdbcType=TIMESTAMP},			</if>			<if test="corpId != null">				#{corpId,jdbcType=BIGINT},			</if>			<if test="flag != null">				#{flag,jdbcType=INTEGER},			</if>		</trim>	</insert>	<update id="updateByPrimaryKeySelective" parameterType="com.tilchina.timp.model.VehiclePhoto" >		update tc_vehicle_photo		<set>			<if test="vehicleId != null">				VEHICLE_ID = #{vehicleId,jdbcType=BIGINT},			</if>			<if test="licenseId != null">				LICENSE_ID = #{licenseId,jdbcType=BIGINT},			</if>			<if test="licenseType != null">				LICENSE_TYPE = #{licenseType,jdbcType=INTEGER},			</if>			<if test="photoType != null">				PHOTO_TYPE = #{photoType,jdbcType=INTEGER},			</if>			<if test="photoDesc != null">				PHOTO_DESC = #{photoDesc,jdbcType=VARCHAR},			</if>			<if test="photoPath != null">				PHOTO_PATH = #{photoPath,jdbcType=VARCHAR},			</if>			<if test="creator != null">				CREATOR = #{creator,jdbcType=BIGINT},			</if>			<if test="createDate != null">				CREATE_DATE = #{createDate,jdbcType=TIMESTAMP},			</if>			<if test="corpId != null">				CORP_ID = #{corpId,jdbcType=BIGINT},			</if>			<if test="flag != null">				FLAG = #{flag,jdbcType=INTEGER},			</if>		</set>		where PHOTO_ID = #{photoId,jdbcType=BIGINT}	</update>	<update id="updateByPrimaryKey" parameterType="com.tilchina.timp.model.VehiclePhoto" >		update tc_vehicle_photo set			VEHICLE_ID = #{vehicleId,jdbcType=BIGINT}, LICENSE_ID = #{licenseId,jdbcType=BIGINT}, LICENSE_TYPE = #{licenseType,jdbcType=INTEGER},			PHOTO_TYPE = #{photoType,jdbcType=INTEGER}, PHOTO_DESC = #{photoDesc,jdbcType=VARCHAR}, PHOTO_PATH = #{photoPath,jdbcType=VARCHAR},			CREATOR = #{creator,jdbcType=BIGINT}, CREATE_DATE = #{createDate,jdbcType=TIMESTAMP},			CORP_ID = #{corpId,jdbcType=BIGINT}, FLAG = #{flag,jdbcType=INTEGER}		where PHOTO_ID = #{photoId,jdbcType=BIGINT}	</update>	<sql id="Query_Column_List">		self.PHOTO_ID,		self.VEHICLE_ID,		self.LICENSE_ID,		self.LICENSE_TYPE,		self.PHOTO_TYPE,		self.PHOTO_DESC,		self.PHOTO_PATH,		self.CREATOR,		self.CREATE_DATE,		self.CORP_ID,		self.FLAG,		ts.TRANSPORTER_CODE as refVehicleCode,		ts.TRACTIR_PLATE_CODE as refTractorCode,		ts.TRAILER_PLATE_CODE as refTrailerCode,		user.USER_NAME as refCreatorName,		corp.CORP_NAME as refCorpName	</sql>	<sql id="Query_Where_Clause">		where self.DEL = 0		<trim suffixOverrides=",">			<if test="photoId != null and photoId != ''">				and self.PHOTO_ID = #{photoId}			</if>			<if test="vehicleId != null and vehicleId != ''">				and self.VEHICLE_ID = #{vehicleId}			</if>			<if test="licenseId != null and licenseId != ''">				and self.LICENSE_ID = #{licenseId}			</if>			<if test="licenseType != null and licenseType != ''">				and self.LICENSE_TYPE = #{licenseType}			</if>			<if test="photoType != null and photoType != ''">				and self.PHOTO_TYPE = #{photoType}			</if>			<if test="photoDesc != null and photoDesc != ''">				and self.PHOTO_DESC = #{photoDesc}			</if>			<if test="photoPath != null and photoPath != ''">				and self.PHOTO_PATH = #{photoPath}			</if>			<if test="creator != null and creator != ''">				and self.CREATOR = #{creator}			</if>			<if test="createDate != null and createDate != ''">				and self.CREATE_DATE = #{createDate}			</if>			<if test="corpId != null and corpId != ''">				and self.CORP_ID = #{corpId}			</if>			<if test="flag != null and flag != ''">				and self.FLAG = #{flag}			</if>			<if test="refVehicleCode != null and refVehicleCode != ''" >				and (ts.TRANSPORTER_CODE = #{refVehicleCode} or ts.TRANSPORTER_CODE like concat('%', #{refVehicleCode}, '%'))			</if>			<if test="refTractorCode != null and refTractorCode != ''" >				and (ts.TRACTIR_PLATE_CODE = #{refTractorCode} or ts.TRACTIR_PLATE_CODE like concat('%', #{refTractorCode}, '%'))			</if>			<if test="refTrailerCode != null and refTrailerCode != ''" >				and (ts.TRAILER_PLATE_CODE = #{refTrailerCode} or ts.TRAILER_PLATE_CODE like concat('%', #{refTrailerCode}, '%'))			</if>			<if test="startDate != null and startDate != ''">				<![CDATA[ and self.CREATE_DATE >= #{startDate} ]]>			</if>			<if test="endDate != null and endDate != ''">				<![CDATA[ and self.CREATE_DATE < DATE_ADD(#{endDate}, INTERVAL 1 DAY) ]]>			</if>			<if test="searchContent != null and searchContent != ''">				and (				ts.TRANSPORTER_CODE like concat('%', #{searchContent}, '%')				or ts.TRACTIR_PLATE_CODE like concat('%', #{searchContent}, '%')				or ts.TRAILER_PLATE_CODE like concat('%', #{searchContent}, '%'))			</if>		</trim>	</sql>	<select id="selectList" resultMap="BaseResultMap" parameterType="Object">		select		<include refid="Query_Column_List"/>		from tc_vehicle_photo self		left join tc_transporter ts on self.VEHICLE_ID = ts.TRANSPORTER_ID		left join bd_user user on self.CREATOR = user.USER_ID		left join sys_corp corp on self.CORP_ID = corp.CORP_ID		<include refid="Query_Where_Clause"/>		order by self.CREATE_DATE desc	</select>	<select id="getPhotos" parameterType="java.util.Map" resultMap="BaseResultMap">		select		<include refid="Query_Column_List"/>		from tc_vehicle_photo self		left join tc_transporter ts on self.VEHICLE_ID = ts.TRANSPORTER_ID		left join bd_user user on self.CREATOR = user.USER_ID		left join sys_corp corp on self.CORP_ID = corp.CORP_ID		where (self.VEHICLE_ID = #{id} or self.LICENSE_ID = #{id})		and self.PHOTO_TYPE = #{photoType}		and self.FLAG = 0		and self.DEL = 0		order by self.CREATE_DATE desc	</select>	<select id="getPhotosByVehicleId" parameterType="java.lang.Long" resultMap="BaseResultMap">		select		<include refid="Query_Column_List"/>		from tc_vehicle_photo self		left join tc_transporter ts on self.VEHICLE_ID = ts.TRANSPORTER_ID		left join bd_user user on self.CREATOR = user.USER_ID		left join sys_corp corp on self.CORP_ID = corp.CORP_ID		where self.VEHICLE_ID = #{vehicleId}		and self.FLAG = 0		and self.DEL = 0		order by self.CREATE_DATE desc	</select></mapper>   