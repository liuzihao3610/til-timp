<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd"><mapper namespace="com.tilchina.timp.mapper.RailtransOrderMapper">    <resultMap id="BaseResultMap" type="com.tilchina.timp.model.RailtransOrder">        <id column="TRANS_ORDER_ID" jdbcType="BIGINT" property="transOrderId"/>        <result column="TRANS_ORDER_ID" jdbcType="BIGINT" property="transOrderId"/>        <result column="TRANS_ORDER_CODE" jdbcType="VARCHAR" property="transOrderCode"/>        <result column="CARRIER" jdbcType="VARCHAR" property="carrier"/>        <result column="HUB_LOCATION" jdbcType="VARCHAR" property="hubLocation"/>        <result column="CAR_BATCH" jdbcType="VARCHAR" property="carBatch"/>        <result column="REMARK" jdbcType="VARCHAR" property="remark"/>        <result column="CREATOR" jdbcType="BIGINT" property="creator"/>        <result column="CREATE_DATE" jdbcType="TIMESTAMP" property="createDate"/>        <result column="CHECKER" jdbcType="BIGINT" property="checker"/>        <result column="CHECK_DATE" jdbcType="TIMESTAMP" property="checkDate"/>        <result column="BILL_STATUS" jdbcType="INTEGER" property="billStatus"/>        <result column="CORP_ID" jdbcType="BIGINT" property="corpId"/>        <result column="FLAG" jdbcType="INTEGER" property="flag"/>        <result column="refCreateName" jdbcType="VARCHAR" property="refCreateName"/>        <result column="refCheckName" jdbcType="VARCHAR" property="refCheckName"/>    </resultMap>    <sql id="Base_Column_List">      TRANS_ORDER_ID, TRANS_ORDER_CODE, CARRIER, HUB_LOCATION, CAR_BATCH, REMARK, CREATOR, CREATE_DATE, CHECKER, CHECK_DATE,      BILL_STATUS, CORP_ID, FLAG    </sql>    <sql id="Query_Column_List">        a.TRANS_ORDER_ID, a.TRANS_ORDER_CODE, a.CARRIER, a.HUB_LOCATION, a.CAR_BATCH, a.REMARK, a.CREATOR, a.CREATE_DATE, a.CHECKER, a.CHECK_DATE,        a.BILL_STATUS, a.CORP_ID, a.FLAG, c.USER_NAME as refCreateName ,d.USER_NAME as refCheckName    </sql>    <sql id="Example_Where_Clause">        where del = 0        <trim suffixOverrides=",">            <if test="transOrderId != null and transOrderId != ''">                and TRANS_ORDER_ID = #{transOrderId}            </if>            <if test="transOrderCode != null and transOrderCode != ''">                and TRANS_ORDER_CODE LIKE CONCAT('%',#{transOrderCode},'%')            </if>            <if test="carrier != null and carrier != ''">                and CARRIER LIKE CONCAT('%',#{carrier},'%')            </if>            <if test="hubLocation != null and hubLocation != ''">                and HUB_LOCATION LIKE CONCAT('%',#{hubLocation},'%')            </if>            <if test="carBatch != null and carBatch != ''">                and CAR_BATCH LIKE CONCAT('%',#{carBatch},'%')            </if>            <if test="remark != null and remark != ''">                and REMARK LIKE CONCAT('%',#{remark},'%')            </if>            <if test="ref != null and ref != ''">                and (                    TRANS_ORDER_CODE LIKE CONCAT('%',#{ref},'%')                  or CAR_BATCH LIKE CONCAT('%',#{ref},'%')                  or TRANS_ORDER_ID in (select TRANS_ORDER_ID from rt_railtrans_order_detail  where car_vin  LIKE CONCAT('%',#{ref},'%'))                )            </if>            <if test="creator != null and creator != ''">                and CREATOR = #{creator}            </if>            <if test="beginDate != null and endDate != ''">                and CREATE_DATE = #{createDate}            </if>            <if test="checker != null and checker != ''">                and CHECKER = #{checker}            </if>            <if test="checkDate != null and checkDate != ''">                and CHECK_DATE = #{checkDate}            </if>            <if test="billStatus != null and billStatus != ''">                and BILL_STATUS = #{billStatus}            </if>            <if test="corpId != null and corpId != ''">                and CORP_ID = #{corpId}            </if>            <if test="flag != null and flag != ''">                and FLAG = #{flag}            </if>        </trim>    </sql>    <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.Long">        select        <include refid="Base_Column_List"/>        from rt_railtrans_order        where TRANS_ORDER_ID = #{transOrderId,jdbcType=BIGINT} and DEL = '0'    </select>    <delete id="deleteByPrimaryKey" parameterType="java.lang.Long">    delete  from rt_railtrans_order where TRANS_ORDER_ID = #{transOrderId}  </delete>    <insert id="insert" parameterType="com.tilchina.timp.model.RailtransOrder" keyProperty="transOrderId"            useGeneratedKeys="true">    insert into rt_railtrans_order	(TRANS_ORDER_CODE, CARRIER, CLIENT, HUB_LOCATION, CAR_BATCH, REMARK, CREATOR, CREATE_DATE, CHECKER, CHECK_DATE, BILL_STATUS,	CORP_ID, FLAG)	values	(#{transOrderCode,  jdbcType=VARCHAR},	 #{carrier,         jdbcType=VARCHAR},	 #{client,          jdbcType=VARCHAR},	 #{hubLocation,     jdbcType=VARCHAR},	 #{carBatch,        jdbcType=VARCHAR},	 #{remark,          jdbcType=VARCHAR},	 #{creator,         jdbcType=BIGINT},	 #{createDate,      jdbcType=TIMESTAMP},	 #{checker,         jdbcType=BIGINT},	 #{checkDate,       jdbcType=TIMESTAMP},	 #{billStatus,      jdbcType=INTEGER},	 #{corpId,          jdbcType=BIGINT},	 #{flag,            jdbcType=INTEGER})  </insert>    <insert id="insertSelective" parameterType="com.tilchina.timp.model.RailtransOrder" keyProperty="transOrderId"            useGeneratedKeys="true">        insert into rt_railtrans_order        <trim prefix="(" suffix=")" suffixOverrides=",">            <if test="transOrderCode != null">                TRANS_ORDER_CODE,            </if>            <if test="carrier != null">                CARRIER,            </if>            <if test="client != null">                CLIENT,            </if>            <if test="hubLocation != null">                HUB_LOCATION,            </if>            <if test="carBatch != null">                CAR_BATCH,            </if>            <if test="remark != null">                REMARK,            </if>            <if test="creator != null">                CREATOR,            </if>            <if test="createDate != null">                CREATE_DATE,            </if>            <if test="checker != null">                CHECKER,            </if>            <if test="checkDate != null">                CHECK_DATE,            </if>            <if test="billStatus != null">                BILL_STATUS,            </if>            <if test="corpId != null">                CORP_ID,            </if>            <if test="flag != null">                FLAG,            </if>        </trim>        <trim prefix="values (" suffix=")" suffixOverrides=",">            <if test="transOrderCode != null">                #{transOrderCode,jdbcType=VARCHAR},            </if>            <if test="carrier != null">                #{carrier,jdbcType=VARCHAR},            </if>            <if test="client != null">                #{client,jdbcType=VARCHAR},            </if>            <if test="hubLocation != null">                #{hubLocation,jdbcType=VARCHAR},            </if>            <if test="carBatch != null">                #{carBatch,jdbcType=VARCHAR},            </if>            <if test="remark != null">                #{remark,jdbcType=VARCHAR},            </if>            <if test="creator != null">                #{creator,jdbcType=BIGINT},            </if>            <if test="createDate != null">                #{createDate,jdbcType=TIMESTAMP},            </if>            <if test="checker != null">                #{checker,jdbcType=BIGINT},            </if>            <if test="checkDate != null">                #{checkDate,jdbcType=TIMESTAMP},            </if>            <if test="billStatus != null">                #{billStatus,jdbcType=INTEGER},            </if>            <if test="corpId != null">                #{corpId,jdbcType=BIGINT},            </if>            <if test="flag != null">                #{flag,jdbcType=INTEGER},            </if>        </trim>    </insert>    <update id="updateByPrimaryKeySelective" parameterType="com.tilchina.timp.model.RailtransOrder">        update rt_railtrans_order        <!--<set>-->        <!--<if test="transOrderCode != null">-->        <!--TRANS_ORDER_CODE = #{transOrderCode,jdbcType=VARCHAR},-->        <!--</if>-->        <!--<if test="carrier != null">-->        <!--CARRIER = #{carrier,jdbcType=VARCHAR},-->        <!--</if>-->        <!--<if test="hubLocation != null">-->        <!--HUB_LOCATION = #{hubLocation,jdbcType=VARCHAR},-->        <!--</if>-->        <!--<if test="carBatch != null">-->        <!--CAR_BATCH = #{carBatch,jdbcType=VARCHAR},-->        <!--</if>-->        <!--<if test="remark != null">-->        <!--REMARK = #{remark,jdbcType=VARCHAR},-->        <!--</if>-->        <!--<if test="creator != null">-->        <!--CREATOR = #{creator,jdbcType=BIGINT},-->        <!--</if>-->        <!--<if test="createDate != null">-->        <!--CREATE_DATE = #{createDate,jdbcType=TIMESTAMP},-->        <!--</if>-->        <!--<if test="checker != null">-->        <!--CHECKER = #{checker,jdbcType=BIGINT},-->        <!--</if>-->        <!--<if test="checkDate != null">-->        <!--CHECK_DATE = #{checkDate,jdbcType=TIMESTAMP},-->        <!--</if>-->        <!--<if test="billStatus != null">-->        <!--BILL_STATUS = #{billStatus,jdbcType=INTEGER},-->        <!--</if>-->        <!--<if test="corpId != null">-->        <!--CORP_ID = #{corpId,jdbcType=BIGINT},-->        <!--</if>-->        <!--<if test="flag != null">-->        <!--FLAG = #{flag,jdbcType=INTEGER},-->        <!--</if>-->        <!--</set>-->        set        CARRIER = #{carrier,jdbcType=VARCHAR},        HUB_LOCATION = #{hubLocation,jdbcType=VARCHAR},        CAR_BATCH = #{carBatch,jdbcType=VARCHAR},        REMARK = #{remark,jdbcType=VARCHAR}        where TRANS_ORDER_ID = #{transOrderId,jdbcType=BIGINT}    </update>    <update id="updateByPrimaryKey" parameterType="com.tilchina.timp.model.RailtransOrder">        update rt_railtrans_order        set CARRIER = #{carrier,jdbcType=VARCHAR},            CLIENT = #{client,jdbcType=VARCHAR},            HUB_LOCATION = #{hubLocation,jdbcType=VARCHAR},            CAR_BATCH = #{carBatch,jdbcType=VARCHAR},            REMARK = #{remark,jdbcType=VARCHAR},            CORP_ID = #{corpId,jdbcType=BIGINT}        where TRANS_ORDER_ID = #{transOrderId,jdbcType=BIGINT}  </update>    <select id="selectList" resultMap="BaseResultMap" parameterType="Object">        select        <include refid="Query_Column_List"/>        from rt_railtrans_order a        join bd_user c on a.creator = c.user_id        join bd_user d on a.CHECKER = d.user_id        where a.del = 0        <trim suffixOverrides=",">            <if test="transOrderId != null and transOrderId != ''">                and a.TRANS_ORDER_ID = #{transOrderId}            </if>            <if test="transOrderCode != null and transOrderCode != ''">                and a.TRANS_ORDER_CODE LIKE CONCAT('%',#{transOrderCode},'%')            </if>            <if test="carrier != null and carrier != ''">                and a.CARRIER LIKE CONCAT('%',#{carrier},'%')            </if>            <if test="hubLocation != null and hubLocation != ''">                and a.HUB_LOCATION LIKE CONCAT('%',#{hubLocation},'%')            </if>            <if test="carBatch != null and carBatch != ''">                and a.CAR_BATCH LIKE CONCAT('%',#{carBatch},'%')            </if>            <if test="remark != null and remark != ''">                and a.REMARK LIKE CONCAT('%',#{remark},'%')            </if>            <if test="ref != null and ref != ''">                and (                a.TRANS_ORDER_CODE LIKE CONCAT('%',#{ref},'%')                or a.CAR_BATCH LIKE CONCAT('%',#{ref},'%')                or a.TRANS_ORDER_ID in (select b.TRANS_ORDER_ID from rt_railtrans_order_detail b  where b.car_vin  LIKE CONCAT('%',#{ref},'%'))                )            </if>            <if test="carVin != null and carVin != ''">                and a.TRANS_ORDER_ID in (select b.TRANS_ORDER_ID from rt_railtrans_order_detail b  where b.car_vin  LIKE CONCAT('%',#{ref},'%'))            </if>            <if test="creator != null and creator != ''">                and a.CREATOR = #{creator}            </if>            <if test="beginDate != null and beginDate != ''">                <![CDATA[ and a.CREATE_DATE >= #{beginDate} ]]>            </if>            <if test="endDate != null and endDate != ''">                <![CDATA[ and a.CREATE_DATE <= #{beginDate} ]]>            </if>        </trim>        order by a.create_date desc    </select>    <!--SQL Queries Defined by XueYuSong-->    <update id="delete" parameterType="java.lang.Long">		update rt_railtrans_order		set DEL = 1		where TRANS_ORDER_ID = #{transOrderId,jdbcType=BIGINT}	</update>    <!--SQL Queries Defined by XueYuSong--></mapper>   